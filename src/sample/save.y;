  const dy = end.y - start.y;
  const distance = Math.abs(dx) + Math.abs(dy); // Manhattan distance

  const stepX = dx === 0 ? 0 : Math.sign(dx) * speed;
  const stepY = dy === 0 ? 0 : Math.sign(dy) * speed;

  let x = start.x;
  let y = start.y;

  while (Math.abs(x - end.x) > 0 || Math.abs(y - end.y) > 0) {
    steps.push({x, y});

    // Di chuyển theo speed, nhưng không vượt quá end
    if (Math.abs(x - end.x) <= speed) x = end.x;
    else x += stepX;

    if (Math.abs(y - end.y) <= speed) y = end.y;
    else y += stepY;
  }

  steps.push({x: end.x, y: end.y}); // Đảm bảo đến đích
  return steps;
}